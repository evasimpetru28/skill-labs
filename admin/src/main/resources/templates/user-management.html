<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Skill Labs - User Management</title>

    {{>fragments/links}}
    <link rel="stylesheet" href="../static/style/navigation-style.css">
    <!-- Page style -->
    <link rel="stylesheet" href="../static/style/user-management-style.css">

</head>
<body onload="domainSelectOptions()">

<!--Main Navigation-->
<header>

    {{>fragments/logout-btn}}
    {{>fragments/sidebar}}

</header>
<!--Main Navigation-->

<!--Main layout-->
<main style="margin-top: 50px;">
    <div class="container-fluid container-custom pt-4 table-responsive-lg">

        <div class="row">
            <div class="justify-content-start col-1">
                <form action="/users/students" method="GET">
                    <button type="submit" class="btn {{#adminUsers}}btn-secondary{{/adminUsers}}{{^adminUsers}}btn-primary{{/adminUsers}}">
                        Students</button>
                </form>
            </div>
            <div class="justify-content-start col-1">
                <form action="/users/admins" method="GET">
                    <button type="submit" class="btn {{#adminUsers}}btn-primary{{/adminUsers}}{{^adminUsers}}btn-secondary{{/adminUsers}}">
                        Admins</button>
                </form>
            </div>
        </div>

        <br>

        {{#adminUsers}}
            {{>fragments/add-admin}}
        {{/adminUsers}}
        {{^adminUsers}}
            {{>fragments/add-student}}
        {{/adminUsers}}

        <table id="dtBasicExample" class="table table-hover table-striped table-bordered table-sm">

            <thead>
            <tr>
                <th class="th-sm">Nr.</th>
                <th class="th-sm">Name</th>
                <th class="th-sm">Email</th>
                <th class="th-sm">Telephone</th>
                {{^adminUsers}}
                    <th class="th-sm">Program</th>
                    <th class="th-sm">Domain</th>
                    <th class="th-sm">Year</th>
                {{/adminUsers}}
                <th class="th-sm">Actions</th>
            </tr>
            </thead>

            <tbody>
            {{#userList}}
            <tr>
                <td>{{index}}</td>
                <td>{{name}}</td>
                <td>{{email}}</td>
                <td>{{phone}}</td>
                {{^adminUsers}}
                    <td>{{program}}</td>
                    <td>{{domain}}</td>
                    <td>{{year}}</td>
                {{/adminUsers}}
                <td class="col-3">

                    <div class="row">
                        <div class="d-flex justify-content-end col-6">

                            {{#adminUsers}}
                                {{>fragments/edit-admin}}
                            {{/adminUsers}}
                            {{^adminUsers}}
                                {{>fragments/edit-student}}
                            {{/adminUsers}}

                        </div>

                        <div class="d-flex justify-content-start col-6">

                            {{#adminUsers}}
                                {{>fragments/delete-admin}}
                            {{/adminUsers}}
                            {{^adminUsers}}
                                {{>fragments/delete-student}}
                            {{/adminUsers}}

                        </div>
                    </div>
                </td>
            </tr>
            {{/userList}}
            </tbody>
        </table>

    </div>
    {{#duplicate}}
    <script>alert("User already exists!")</script>
    {{/duplicate}}
</main>
<!--Main layout-->

<script>
    document.querySelectorAll('.form-outline').forEach((formOutline) => {
        new mdb.Input(formOutline).init();
    });
</script>
<script type="text/javascript" src="../static/js/user-management.js"></script>

</body>
</html>